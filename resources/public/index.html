<html>
  <head>
    <link rel="stylesheet" href="css/main.css" type="text/css" media="screen" />
    <script type="text/javascript" src="lib/jquery-1.11.1.js"></script>
    <script type="text/javascript" src="lib/jquery.hotkeys.js"></script>
    <script type="text/javascript" src="js/comm.js"></script>
    <script type="text/javascript" src="js/draw.js"></script>
    <script type="text/javascript" src="js/keys.js"></script>
  </head>
  <body>
    <div id="T"></div>
    <pre id="output"></pre>
  </body>
</html>
<script>

function resize_grid(W, H) {
    build_table(W, H);
    send_message({
        'action': 'resize-vp',
        'new-w': W,
        'new-h': H
    });
}

function checker_board(W, H) {
    for (var x = 0; x < W; x += 2) {
        for (var y = 0; y < H; y++) {
            draw_cell({
                x: x + y % 2,
                y: y,
                bg: 'lightgray'
            });
        }
    }
}

function resize_grid_fit_browser() {
    var bs = 17;
    var w = parseInt(window.innerWidth  / bs, 10);
    var h = parseInt(window.innerHeight / bs, 10);
    resize_grid(w, h);
}

$(document).ready(function() {
    $(window).resize(resize_grid_fit_browser);
    // TODO hook up with websock.ready
    // $(window).resize();
});

</script>
